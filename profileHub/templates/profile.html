<!-- <!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"> -->

<!-- <title>Patient Profile</title> -->
<!-- <meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="../templates/css/profile.css" rel="stylesheet"> -->

<!-- </head>
<body> -->
{% extends 'profileHubBase.html' %}
<!-- <div class="container">
  <div class="main-body"> -->
{% block profilecontent %}
<div class="row gutters-sm">
  <!-- sidebar -->
  <div class="col-md-4 mb-3">
    <div class="card">
      <div class="card-body">
        <div class="d-flex flex-column align-items-center text-center">
          <img
            src="https://static.vecteezy.com/system/resources/previews/009/292/244/original/default-avatar-icon-of-social-media-user-vector.jpg"
            alt="Admin"
            class="rounded-circle"
            width="150"
          />

          <div class="mt-3">
            <h4 class="patientName">{{data.firstName }} {{data.lastName }}</h4>
            <p class="text-secondary mb-1 patientEmail"> {{data.email}} </p>
            <hr />

            <!-- Add user id in the link -->
            {% if data.type == 'Patient'  %}
            <a href="{% url 'patientEdit' %}">
            {% else %}
            <a href="{% url 'specialistEdit' %}">
            {% endif %} 
              <button class="btn btn-outline-info editProfile">
                ✏️ Edit Profile
              </button></a
            >
          </div>
        </div>
      </div>
    </div>

    <div class="card mt-3">
      <ul class="list-group list-group-flush">
        {% if licenseNumber %}
        <li
          class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
        >
          <h6 class="mb-0">License Number</h6>
          <span class="text-secondary">{{data.licenseNumber}}</span>
        </li>
        {% endif %}
        <li
          class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
        >
          <h6 class="mb-0">Contact Number</h6>
          <span class="text-secondary">{{data.phone}}</span>
        </li>

        <li
          class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
        >
          <h6 class="mb-0">Birth Date</h6>
          <span class="text-secondary">{{data.birthday}}</span>
        </li>

        <li
          class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
        >
          <h6 class="mb-0">Address</h6>
          <span class="text-secondary">{{data.address}}</span>
        </li>

        <!--If patient is above 18, get rid of this section-->

        {% if guardianEmail %}
        <li
          class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
        >
          <h6 class="mb-0">Guardian E-mail</h6>
          <span class="text-secondary">{{data.guardianEmail}}</span>
        </li>
        {% endif %}
        
      </ul>
    </div>
  </div>

  <!-- menu -->
  <div class="col-md-8 right-div">
    <div class="card mb-3">
      <div class="card-body">
        <div class="row">
          <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
            <!-- <li class="nav-item" role="presentation">
              <button
                class="nav-link active"
                id="pills-home-tab"
                data-bs-toggle="pill"
                data-bs-target="#pills-home"
                type="button"
                role="tab"
                aria-controls="pills-home"
                aria-selected="true"
              >
                Appointments
              </button>
            </li> -->
            {% if data.type == 'Patient'  %}
            <li class="nav-item" role="presentation">
              <button
                class="nav-link active"
                id="specialistsAdded-tab"
                data-bs-toggle="pill"
                data-bs-target="#specialistsAdded"
                type="button"
                role="tab"
                aria-controls="specialistsAdded"
                aria-selected="true"
              >
                Your Added Specialists
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="pills-profile-tab"
                data-bs-toggle="pill"
                data-bs-target="#pills-profile"
                type="button"
                role="tab"
                aria-controls="pills-profile"
                aria-selected="false"
              >
                Input Specialist Code
              </button>
            </li>
            {% endif %}

            {% if data.type == 'Specialist'  %}
            <li class="nav-item" role="presentation">
              <button
                class="nav-link active"
                id="active-patients-tab"
                data-bs-toggle="pill"
                data-bs-target="#active-patients"
                type="button"
                role="tab"
                aria-controls="active-patients"
                aria-selected="true"
              >
                Active Patients
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="pending-patients-tab"
                data-bs-toggle="pill"
                data-bs-target="#pending-patients"
                type="button"
                role="tab"
                aria-controls="pending-patients"
                aria-selected="false"
              >
                Pending Patients
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="history-patients-tab"
                data-bs-toggle="pill"
                data-bs-target="#history-patients"
                type="button"
                role="tab"
                aria-controls="history-patients"
                aria-selected="false"
              >
                Patient History
              </button>
            </li>
            <li class="nav-item" role="presentation">
              <button
                class="nav-link"
                id="add-patient-tab"
                data-bs-toggle="pill"
                data-bs-target="#add-patient"
                type="button"
                role="tab"
                aria-controls="add-patient"
                aria-selected="false"
              >
                Add New Patient
              </button>
            </li>
            {% endif %}
          </ul>



          <div class="tab-content" id="pills-tabContent">
            <!-- Appointment Table-->
            <!-- <div
              class="tab-pane fade show active patientAppointments"
              id="pills-home"
              role="tabpanel"
              aria-labelledby="pills-home-tab"
            >
              <table class="table table-bordered patientAppointment">
                <thead>
                  <tr>
                    <th scope="col">Appointment</th>
                    <th scope="col">Psychologist Name</th>
                    <th scope="col">Time Start</th>
                    <th scope="col">Status</th>
                  </tr>
                </thead>

                <tbody>
                  <tr>
                    <th scope="row">1</th>
                    <td>Dr. Mark Toronto</td>
                    <td>5:45 PM</td>
                    <td>Pending</td>
                  </tr>
                  <tr>
                    <th scope="row">2</th>
                    <td>Dr. Phil</td>
                    <td>3:45 PM</td>
                    <td>Confirmed</td>
                  </tr>
                </tbody>
              </table>
            </div> -->

            {% if data.type == 'Patient'  %}
            <!--Specialist Added Tab-->

            <div
              class="tab-pane show active specialistsAdded"
              id="specialistsAdded"
              role="tabpanel"
              aria-labelledby="specialistsAdded-tab"
            >
              <div class="container">
                <label for="specialistsAdded" style="font-size: larger; color: rgb(19, 156, 194); font-weight: bold;">
                  Your Specialist/s</label>
              </div>
              <div class="container">
                <p>In this dedicated section, you'll discover an organized list of the mental health specialists with whom you've been
                   paired. Each entry in this list represents a professional who can offer guidance, expertise, and assistance tailored to your 
                   unique needs.</p>
              </div>
              <table class="table table-bordered patientHistory">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Psychologist Name</th>
                    <th scope="col">Contact Number</th>
                    <th scope="col">Email Address</th>
                  </tr>
                </thead>

                <tbody>
                  <tr>
                    <th scope="row">1</th>
                    <td>Dr. Mark Toronto</td>
                    <td>434-4467</td>
                    <td>6209 Aiden Flat Apt. 737</td>
                  </tr>

                
                </tbody>
              </table>
            </div>

            <div
              class="tab-pane fade patientCode"
              id="pills-profile"
              role="tabpanel"
              aria-labelledby="pills-profile-tab"
            >
              <div class="form-group">
                <label for="specialistCode">Input Specialist Code:</label>
                <input
                  type="text"
                  class="form-control"
                  id="specialistCode"
                  placeholder="Enter 6-character code"
                />
              </div>
              <button class="btn btn-info">Confirm</button>
            </div>

            
            {% endif %}

            {% if data.type == 'Specialist'  %}
            <!-- History Table-->
            <div
              class="tab-pane fade patientHistory"
              id="pending-patients"
              role="tabpanel"
              aria-labelledby="pending-patients-tab"
            >
            
              <table class="table table-bordered patientHistory">
                <thead>
                  <tr>
                    <th scope="col">Patient Code</th>
                    <th scope="col">Patient Email</th>                    
                    <th scope="col">Date Invited</th>                    
                  </tr>
                </thead>

                <tbody>
                  {% for patient in patientsData %}
                  <tr>
                    <th scope="row">{{ patient.enrollmentCode }}</th>
                    <td>{{ patient.patientEmail }}</td>
                    <td>{{ patient.created_at }}</td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
            <div
              class="tab-pane fade patientHistory"
              id="active-patients"
              role="tabpanel"
              aria-labelledby="active-patients-tab"
            >
              <table class="table table-bordered patientHistory">
                <thead>
                  <tr>
                    <th scope="col">Appointment</th>
                    <th scope="col">Psychologist Name</th>
                    <th scope="col">Time Start</th>
                    <th scope="col">Status</th>
                  </tr>
                </thead>

                <tbody>
                  <tr class="table-danger">
                    <th scope="row">1</th>
                    <td>Dr. Mark Toronto</td>
                    <td>5:45 PM</td>
                    <td>Cancelled</td>
                  </tr>

                  <tr class="table-success">
                    <th scope="row">2</th>
                    <td>Dr. Phil</td>
                    <td>3:45 PM</td>
                    <td>Done</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div
              class="tab-pane fade patientHistory"
              id="history-patients"
              role="tabpanel"
              aria-labelledby="history-patients-tab"
            >
              <table class="table table-bordered patientHistory">
                <thead>
                  <tr>
                    <th scope="col">Appointment</th>
                    <th scope="col">Psychologist Name</th>
                    <th scope="col">Time Start</th>
                    <th scope="col">Status</th>
                  </tr>
                </thead>

                <tbody>
                  <tr class="table-danger">
                    <th scope="row">1</th>
                    <td>Dr. Mark Toronto</td>
                    <td>5:45 PM</td>
                    <td>Cancelled</td>
                  </tr>

                  <tr class="table-success">
                    <th scope="row">2</th>
                    <td>Dr. Phil</td>
                    <td>3:45 PM</td>
                    <td>Done</td>
                  </tr>
                </tbody>
              </table>
            </div>

           
            <!-- Generate a Pop-Up showing the patient code after submitting -->
            <div
              class="tab-pane fade patientCode"
              id="add-patient"
              role="tabpanel"
              aria-labelledby="add-patient-tab"
            >
              <form class="form-group" role="form" method="post">
                {% csrf_token %}
                <label for="specialistCode">Patient Email:</label>
                <input
                  type="email"
                  class="form-control"
                  id="patient-email"
                  name="patientEmail"
                  placeholder="Enter patient email"
                />
                <button type="submit" class="btn btn-info">Add New Patient</button>
              </form>
              
            </div>

            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- </div>
  </div> -->

  <!-- <script
    data-cfasync="false"
    src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"
  ></script>
  <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js"></script>
  <script type="text/javascript"></script> -->
  <!-- </body>
</html> -->
</div>
{% endblock profilecontent %}
